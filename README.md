# backend-mesto v0.0.5

## API для проекта Mesto 

* [Как установить?](#установка)
* [За работу!](#работа)
  * [Запуск сервера](#запуск-сервера)
  * [Запуск сервера с хот релоудом](#запуск-сервера-с-хот-релоудом)
* [Регистрация](#регистация)
* [Авторизация](#авторизация)
* [Функционал](#функционал)
  * [Пользователи](#пользователи)
    * [Получение списка всех пользователей](#получение-списка-всех-пользователей)
    * [Получение пользователя по `_id`](#получение-пользователя-по-_id)
    * [Обновление поля `имя` и `о себе` своего профиля](#обновление-поля-имя-и-о-себе-своего-профиля)
    * [Обновление `аватара` своего профиля](#обновление-аватара-своего-профиля)
  * [Карточки](#карточки)
    * [Получение списка всех карточек](#получение-списка-всех-карточек)
    * [Создание карточки](#создание-карточки)
    * [Добавление лайка карточке по `_id`](#добавление-лайка-карточке-по-_id)
    * [Удаление лайка с карточки по `_id`](#удаление-лайка-с-карточки-по-_id)
    * [Удаление карточки по `_id`](#удаление-карточки-по-_id)
 * [Обработка ошибок](#обработка-ошибок)
    * [Получение пользователя по несуществующему `_id`](#получение-пользователя-по-несуществующему-_id)
    * [Получение пользователя по невалидному `_id`](#получение-пользователя-по-невалидному-_id)
    * [Регистрация пользователя с невалидными полями](#регистрация-пользователя-с-невалидными-полями)
    * [Обновление аватара своего профиля с невалидной ссылкой](#обновление-аватара-своего-профиля-с-невалидной-ссылкой)
    * [Создание карточки c невалидными параметрами `name` и `link`](#создание-карточки-c-невалидными-параметрами-name-и-link)
    * [Удаление чужой карточки по валидному `_id`](#удаление-чужой-карточки-по-валидному-_id)
    * [Удаление чужой карточки по невалидному `_id`](#удаление-чужой-карточки-по-невалидному-_id)
    * [Удаление карточки по несуществующему `_id`](#удаление-карточки-по-несуществующему-_id)
    * [Удаление карточки по невалидному `_id`](#удаление-карточки-по-невалидному-_id)
    * [Удаление лайка с карточки по несуществующему `_id`](#удаление-лайка-с-карточки-по-несуществующему-_id)
    * [Удаление лайка с карточки по невалидному `_id`](#удаление-лайка-с-карточки-по-невалидному-_id)

## Демо

К api можно обратиться по адресу `tolkachev.site/api/`, `www.tolkachev.site/api/` или по ip `84.201.176.201`

## Установка

Перед началом работы необходимо проверить наличие установленного node.js и npm

Скопируйте проект на компьютер:

```
git clone https://github.com/TolkachevPeter/NodeJS.git
```

Установите зависимости:

```
npm install
```

## Работа

Для локальной разработки с поднятием сервера используйте:

### Запуск сервера:

```
npm run start
```

### Запуск сервера с хот релоудом:

```
npm run dev
```

**По дефолту сервер запустится _на 3000 порту_**

## Регистация

`POST /signup`

###### Тело запроса

| Параметры | Обязателен/Опционален | Описание | Тип | Критерии |
| ------------- | ------------- | ------------- | ------------- | ------------- |
| **email** | Обязательно | Почта пользователя | String | Должна быть валидной почтой | 
| **password** | Обязательно | Пароль пользователя | String | Длина: minlength 8 |
| **name** | Обязательно | Инициалы пользователя | String | Длина: minlength 2, maxlength 30 | 
| **about** | Обязательно | Информация пользователя о себе | String | Длина: minlength 2, maxlength 30 | 
| **avatar** | Обязательно | Ссылка на картинку для аватара пользователя | String | Должна быть валидной ссылкой | 

###### Пример запроса

`curl -i -X POST -H "Content-Type: application/json" -d '{"email": "peter.tolkachev@gmail.com", "password": "qwerty12345", "name": "Толкачев Петр", "about": "Phd", "avatar": "https://avatars1.githubusercontent.com/u/52109421?s=460&u=8453ad74db7403216ad857a9d8ac53b6109d19ce&v=4"}' http://localhost:3000/signup`

##### Пример ответа
