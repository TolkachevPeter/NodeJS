# backend-mesto v0.0.15

## API для проекта Mesto 


## Демо

К api можно обратиться по адресу `www.api.tolkachev.site/` или по ip `84.201.176.201`

## Установка

Перед началом работы необходимо проверить наличие установленного node.js и npm

Скопируйте проект на компьютер:

```
git clone https://github.com/TolkachevPeter/NodeJS.git
```

Установите зависимости:

```
npm install
```

## Работа

Для локальной разработки с поднятием сервера используйте:

### Запуск сервера:

```
npm run start
```

### Запуск сервера с хот релоудом:

```
npm run dev
```

**По дефолту сервер запустится _на 3000 порту_**

## Регистация

`POST /signup`

###### Тело запроса

| Параметры | Обязателен/Опционален | Описание | Тип | Критерии |
| ------------- | ------------- | ------------- | ------------- | ------------- |
| **email** | Обязательно | Почта пользователя | String | Должна быть валидной почтой | 
| **password** | Обязательно | Пароль пользователя | String | Длина: minlength 8 |
| **name** | Обязательно | Инициалы пользователя | String | Длина: minlength 2, maxlength 30 | 
| **about** | Обязательно | Информация пользователя о себе | String | Длина: minlength 2, maxlength 30 | 
| **avatar** | Обязательно | Ссылка на картинку для аватара пользователя | String | Должна быть валидной ссылкой | 

## Авторизация

`POST /signin`

###### Тело запроса

| Параметры | Обязателен/Опционален | Описание | Тип | Критерии |
| ------------- | ------------- | ------------- | ------------- | ------------- |
| **email** | Обязательно | Почта пользователя | String | Должна быть валидной почтой | 
| **password** | Обязательно | Пароль пользователя | String | Длина: minlength 8 |

#### Получение списка всех пользователей

`GET /users`

#### Получение пользователя по _id

`GET /users/{user-id}`

##### Параметры пути

| Параметры | Описание |
| ------------- | ------------- |
| **{user-id}** | Уникальный идентификатор документа пользователя |

#### Обновление поля `имя` и `о себе` своего профиля

`PATCH /users/{user-id}`

##### Параметры пути

| Параметры | Описание |
| ------------- | ------------- |
| **{user-id}** | Уникальный идентификатор документа пользователя |

###### Тело запроса

| Параметры | Обязателен/Опционален | Описание | Тип | Критерии |
| ------------- | ------------- | ------------- | ------------- | ------------- |
| **name**  | Обязательно | Инициалы пользователя | String | Длина: minlength 2, maxlength 30 | 
| **about**  | Обязательно | Информация пользователя о себе | String | Длина: minlength 2, maxlength 30 | 


#### Обновление `аватара` своего профиля

`PATCH /users/{id}/avatar`

##### Параметры пути

| Параметры | Описание |
| ------------- | ------------- |
| **{user-id}** | Уникальный идентификатор документа пользователя |

###### Тело запроса

| Параметры | Обязателен/Опционален | Описание | Тип | Критерии |
| ------------- | ------------- | ------------- | ------------- | ------------- |
| **avatar**  | Обязательно  | Ссылка на картинку для аватара пользователя | String | Должна быть валидной ссылкой | 

### Карточки

#### Получение списка всех карточек

`GET /cards`


#### Создание карточки

`POST /cards`

###### Тело запроса

| Параметры | Обязателен/Опционален | Описание | Тип | Критерии |
| ------------- | ------------- | ------------- | ------------- | ------------- |
| **name**  | Обязательно  | Название карточки | String | Длина: minlength 2, maxlength 30 | 
| **link**  | Обязательно  | Ссылка на картинку для карточки | String | Должна быть валидной ссылкой | 

#### Добавление лайка карточке по `_id`

`PUT /cards/{card-id}/likes`

##### Параметры пути

| Параметры | Описание |
| ------------- | ------------- |
| **{card-id}** | Уникальный идентификатор документа карточки |


#### Удаление лайка с карточки по `_id`

`DELETE /cards/{card-id}/likes`

##### Параметры пути

| Параметры | Описание |
| ------------- | ------------- |
| **{card-id}** | Уникальный идентификатор документа карточки |


#### Удаление карточки по `_id`

`DELETE /cards/{card-id}`

##### Параметры пути

| Параметры | Описание |
| ------------- | ------------- |
| **{card-id}** | Уникальный идентификатор документа карточки |
